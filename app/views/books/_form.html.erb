<% if @book.errors.any? %>
    <div id="error_explanation">
        <h2>Errors:</h2>
        <ul>
            <% @book.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
        </ul>
    </div>
<% end %>

<%= form_for @book do |f| %>
<label>Title:</label><br>
    <%= f.text_field :title %><br>
 
<label>Author:</label><br> <select name="author_id">
            <% Author.by_last.each do |author| %>
                
                <% if @book.author_id == author.id %>

                    <option selected value="<%= author.id %>">
                        <%= author.last_name + ", " + author.first_name %>
                    </option>
                <% else %>
                    <option value="<%= author.id %>">
                        <%= author.last_name + ", " + author.first_name %>
                    </option>
                <% end %>
            <% end %>
        </select>

<%= submit_tag "Submit", class: 'submit_button' %>

<% end %>
